import{F as p}from"./bootstrap-XtbW-ZEk.js";import{c as b}from"./use-form-common-props-CHaIXNd4.js";import{v as g,N as F,r as h,w as x,a as m,m as w}from"../jse/index-index-CFrc6J-k.js";function R(l,{beforeFocus:t,afterFocus:a,beforeBlur:c,afterBlur:u}={}){const r=g(),{emit:v}=r,o=F(),i=b("disabled"),e=h(!1),d=n=>{m(t)&&t(n)||e.value||(e.value=!0,v("focus",n),a==null||a())},f=n=>{var s;m(c)&&c(n)||n.relatedTarget&&((s=o.value)!=null&&s.contains(n.relatedTarget))||(e.value=!1,v("blur",n),u==null||u())},C=()=>{var n,s;(n=o.value)!=null&&n.contains(document.activeElement)&&o.value!==document.activeElement||i.value||(s=l.value)==null||s.focus()};return x([o,i],([n,s])=>{n&&(s?n.removeAttribute("tabindex"):n.setAttribute("tabindex","-1"))}),p(o,"focus",d,!0),p(o,"blur",f,!0),p(o,"click",C,!0),{isFocused:e,wrapperRef:o,handleFocus:d,handleBlur:f}}const A=l=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(l);function y({afterComposition:l,emit:t}){const a=h(!1),c=o=>{t==null||t("compositionstart",o),a.value=!0},u=o=>{var i;t==null||t("compositionupdate",o);const e=(i=o.target)==null?void 0:i.value,d=e[e.length-1]||"";a.value=!A(d)},r=o=>{t==null||t("compositionend",o),a.value&&(a.value=!1,w(()=>l(o)))};return{isComposing:a,handleComposition:o=>{o.type==="compositionend"?r(o):u(o)},handleCompositionStart:c,handleCompositionUpdate:u,handleCompositionEnd:r}}export{y as a,R as u};
