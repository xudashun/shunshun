var le=Object.defineProperty,se=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var N=Math.pow,I=(i,l,a)=>l in i?le(i,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[l]=a,O=(i,l)=>{for(var a in l||(l={}))re.call(l,a)&&I(i,a,l[a]);if(U)for(var a of U(l))ne.call(l,a)&&I(i,a,l[a]);return i},V=(i,l)=>se(i,oe(l));import{k as K,m as $,n as Q,F as x,B as ie,ar as ue,ae as ce,a as ve,o as B,l as fe,T as q,ab as me,w as de}from"./bootstrap-kj5NJ-kI.js";import{B as pe,r as be,G as C}from"./index-DopChluW.js";import{t as he}from"./error-CNofBShO.js";import{d as P,s as Z,r as c,c as k,aa as ye,x as F,p as A,f as H,B as ee,K as we,h as W,n as L,u as w,l as D,e as te,C as G,O as Se,w as X,a9 as ge,I as ze,ab as _e,o as Ee,m as Y,J as Te,g as Ce,k as ke,A as Be,a3 as He}from"../jse/index-index-DN0FPeEZ.js";import{u as Le}from"./index-CaPp1dKf.js";const j=Symbol("scrollbarContextKey"),Ne=K({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Pe="Thumb",Re=P({__name:"thumb",props:Ne,setup(i){const l=i,a=Z(j),o=Q("scrollbar");a||he(Pe,"can not inject scrollbar context");const u=c(),v=c(),d=c({}),p=c(!1);let m=!1,b=!1,s=ve?document.onselectstart:null;const t=k(()=>pe[l.vertical?"vertical":"horizontal"]),r=k(()=>be({size:l.size,move:l.move,bar:t.value})),f=k(()=>N(u.value[t.value.offset],2)/a.wrapElement[t.value.scrollSize]/l.ratio/v.value[t.value.offset]),h=n=>{var _;if(n.stopPropagation(),n.ctrlKey||[1,2].includes(n.button))return;(_=window.getSelection())==null||_.removeAllRanges(),g(n);const T=n.currentTarget;T&&(d.value[t.value.axis]=T[t.value.offset]-(n[t.value.client]-T.getBoundingClientRect()[t.value.direction]))},E=n=>{if(!v.value||!u.value||!a.wrapElement)return;const _=Math.abs(n.target.getBoundingClientRect()[t.value.direction]-n[t.value.client]),T=v.value[t.value.offset]/2,M=(_-T)*100*f.value/u.value[t.value.offset];a.wrapElement[t.value.scroll]=M*a.wrapElement[t.value.scrollSize]/100},g=n=>{n.stopImmediatePropagation(),m=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",y),s=document.onselectstart,document.onselectstart=()=>!1},S=n=>{if(!u.value||!v.value||m===!1)return;const _=d.value[t.value.axis];if(!_)return;const T=(u.value.getBoundingClientRect()[t.value.direction]-n[t.value.client])*-1,M=v.value[t.value.offset]-_,ae=(T-M)*100*f.value/u.value[t.value.offset];a.wrapElement[t.value.scroll]=ae*a.wrapElement[t.value.scrollSize]/100},y=()=>{m=!1,d.value[t.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",y),e(),b&&(p.value=!1)},R=()=>{b=!1,p.value=!!l.size},z=()=>{b=!0,p.value=m};ye(()=>{e(),document.removeEventListener("mouseup",y)});const e=()=>{document.onselectstart!==s&&(document.onselectstart=s)};return x(F(a,"scrollbarElement"),"mousemove",R),x(F(a,"scrollbarElement"),"mouseleave",z),(n,_)=>(H(),A(ce,{name:w(o).b("fade"),persisted:""},{default:ee(()=>[we(W("div",{ref_key:"instance",ref:u,class:L([w(o).e("bar"),w(o).is(w(t).key)]),onMousedown:E,onClick:ie(()=>{},["stop"])},[W("div",{ref_key:"thumb",ref:v,class:L(w(o).e("thumb")),style:D(w(r)),onMousedown:h},null,38)],42,["onClick"]),[[ue,n.always||p.value]])]),_:1},8,["name"]))}});var J=$(Re,[["__file","thumb.vue"]]);const Me=K({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Oe=P({__name:"bar",props:Me,setup(i,{expose:l}){const a=i,o=Z(j),u=c(0),v=c(0),d=c(""),p=c(""),m=c(1),b=c(1);return l({handleScroll:r=>{if(r){const f=r.offsetHeight-C,h=r.offsetWidth-C;v.value=r.scrollTop*100/f*m.value,u.value=r.scrollLeft*100/h*b.value}},update:()=>{const r=o==null?void 0:o.wrapElement;if(!r)return;const f=r.offsetHeight-C,h=r.offsetWidth-C,E=N(f,2)/r.scrollHeight,g=N(h,2)/r.scrollWidth,S=Math.max(E,a.minSize),y=Math.max(g,a.minSize);m.value=E/(f-E)/(S/(f-S)),b.value=g/(h-g)/(y/(h-y)),p.value=S+C<f?`${S}px`:"",d.value=y+C<h?`${y}px`:""}}),(r,f)=>(H(),te(Se,null,[G(J,{move:u.value,ratio:b.value,size:d.value,always:r.always},null,8,["move","ratio","size","always"]),G(J,{move:v.value,ratio:m.value,size:p.value,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}});var xe=$(Oe,[["__file","bar.vue"]]);const Ae=K(O({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:fe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String},Le(["ariaLabel","ariaOrientation"]))),We={scroll:({scrollTop:i,scrollLeft:l})=>[i,l].every(B)},De="ElScrollbar",Ke=P({name:De}),$e=P(V(O({},Ke),{props:Ae,emits:We,setup(i,{expose:l,emit:a}){const o=i,u=Q("scrollbar");let v,d,p=0,m=0;const b=c(),s=c(),t=c(),r=c(),f=k(()=>{const e={};return o.height&&(e.height=q(o.height)),o.maxHeight&&(e.maxHeight=q(o.maxHeight)),[o.wrapStyle,e]}),h=k(()=>[o.wrapClass,u.e("wrap"),{[u.em("wrap","hidden-default")]:!o.native}]),E=k(()=>[u.e("view"),o.viewClass]),g=()=>{var e;s.value&&((e=r.value)==null||e.handleScroll(s.value),p=s.value.scrollTop,m=s.value.scrollLeft,a("scroll",{scrollTop:s.value.scrollTop,scrollLeft:s.value.scrollLeft}))};function S(e,n){He(e)?s.value.scrollTo(e):B(e)&&B(n)&&s.value.scrollTo(e,n)}const y=e=>{B(e)&&(s.value.scrollTop=e)},R=e=>{B(e)&&(s.value.scrollLeft=e)},z=()=>{var e;(e=r.value)==null||e.update()};return X(()=>o.noresize,e=>{e?(v==null||v(),d==null||d()):({stop:v}=me(t,z),d=x("resize",z))},{immediate:!0}),X(()=>[o.maxHeight,o.height],()=>{o.native||Y(()=>{var e;z(),s.value&&((e=r.value)==null||e.handleScroll(s.value))})}),ge(j,ze({scrollbarElement:b,wrapElement:s})),_e(()=>{s.value&&(s.value.scrollTop=p,s.value.scrollLeft=m)}),Ee(()=>{o.native||Y(()=>{z()})}),Te(()=>z()),l({wrapRef:s,update:z,scrollTo:S,setScrollTop:y,setScrollLeft:R,handleScroll:g}),(e,n)=>(H(),te("div",{ref_key:"scrollbarRef",ref:b,class:L(w(u).b())},[W("div",{ref_key:"wrapRef",ref:s,class:L(w(h)),style:D(w(f)),tabindex:e.tabindex,onScroll:g},[(H(),A(Be(e.tag),{id:e.id,ref_key:"resizeRef",ref:t,class:L(w(E)),style:D(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:ee(()=>[ke(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?Ce("v-if",!0):(H(),A(xe,{key:0,ref_key:"barRef",ref:r,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}}));var je=$($e,[["__file","scrollbar.vue"]]);const Xe=de(je);export{Xe as E,We as s};
